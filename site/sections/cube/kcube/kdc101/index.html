
<!doctype html>
<html lang="en" class="no-js">
  <head>

      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">




        <link rel="prev" href="../../cube/">


        <link rel="next" href="../kpa101/">


      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">



        <title>KDC101 - Thorlabs Repository Documentation</title>



      <link rel="stylesheet" href="../../../../assets/stylesheets/main.6f8fc17f.min.css">












        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>



      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">

    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>






  </head>


    <body dir="ltr">


    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">


        <a href="#kdc101" class="md-skip">
          Skip to content
        </a>

    </div>
    <div data-md-component="announce">

    </div>




<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Thorlabs Repository Documentation" class="md-header__button md-logo" aria-label="Thorlabs Repository Documentation" data-md-component="logo">


  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">

      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Thorlabs Repository Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">

              KDC101

          </span>
        </div>
      </div>
    </div>


      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>



      <label class="md-header__button md-icon" for="__search">

        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">

        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>

        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">

        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">

          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>

    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>


  </nav>

</header>

    <div class="md-container" data-md-component="container">





<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">





    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">




  Home

      </a>
    </li>







    <li class="md-tabs__item">
      <a href="../../../installation/" class="md-tabs__link">




  Installation

      </a>
    </li>











      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../cube/" class="md-tabs__link">




  Thorlab Cubes

        </a>
      </li>










      <li class="md-tabs__item">
        <a href="../../../tutorial/tutorials/" class="md-tabs__link">




  Tutorials

        </a>
      </li>




    </ul>
  </div>
</nav>



      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">



              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">








<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Thorlabs Repository Documentation" class="md-nav__button md-logo" aria-label="Thorlabs Repository Documentation" data-md-component="logo">


  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Thorlabs Repository Documentation
  </label>

  <ul class="md-nav__list" data-md-scrollfix>







    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">


  <span class="md-ellipsis">
    Home
  </span>


      </a>
    </li>









    <li class="md-nav__item">
      <a href="../../../installation/" class="md-nav__link">


  <span class="md-ellipsis">
    Installation
  </span>


      </a>
    </li>





























    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">



        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>


          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">


  <span class="md-ellipsis">
    Thorlab Cubes
  </span>


            <span class="md-nav__icon md-icon"></span>
          </label>

        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Thorlab Cubes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>







    <li class="md-nav__item">
      <a href="../../cube/" class="md-nav__link">


  <span class="md-ellipsis">
    Overview
  </span>


      </a>
    </li>





























    <li class="md-nav__item md-nav__item--active md-nav__item--nested">



        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>


          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">


  <span class="md-ellipsis">
    K-Cube
  </span>


            <span class="md-nav__icon md-icon"></span>
          </label>

        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            K-Cube
          </label>
          <ul class="md-nav__list" data-md-scrollfix>









    <li class="md-nav__item md-nav__item--active">

      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">





        <label class="md-nav__link md-nav__link--active" for="__toc">


  <span class="md-ellipsis">
    KDC101
  </span>


          <span class="md-nav__icon md-icon"></span>
        </label>

      <a href="./" class="md-nav__link md-nav__link--active">


  <span class="md-ellipsis">
    KDC101
  </span>


      </a>



<nav class="md-nav md-nav--secondary" aria-label="Table of contents">






    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>

        <li class="md-nav__item">
  <a href="#controller-description" class="md-nav__link">
    <span class="md-ellipsis">
      Controller Description
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#controller-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      Controller Use-Cases
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#peripherals-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Peripherals Examples
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#api-reference" class="md-nav__link">
    <span class="md-ellipsis">
      API Reference
    </span>
  </a>

    <nav class="md-nav" aria-label="API Reference">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#thorlabs_cube.driver.kcube.kdc.Kdc" class="md-nav__link">
    <span class="md-ellipsis">
      Kdc
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#thorlabs_cube.driver.kcube.kdc.Kdc.get_digital_outputs_config" class="md-nav__link">
    <span class="md-ellipsis">
      get_digital_outputs_config
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#thorlabs_cube.driver.kcube.kdc.Kdc.get_mmi_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      get_mmi_parameters
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#thorlabs_cube.driver.kcube.kdc.Kdc.get_position_trigger_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      get_position_trigger_parameters
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#thorlabs_cube.driver.kcube.kdc.Kdc.get_trigger_io_config" class="md-nav__link">
    <span class="md-ellipsis">
      get_trigger_io_config
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#thorlabs_cube.driver.kcube.kdc.Kdc.handle_message" class="md-nav__link">
    <span class="md-ellipsis">
      handle_message
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#thorlabs_cube.driver.kcube.kdc.Kdc.set_digital_outputs_config" class="md-nav__link">
    <span class="md-ellipsis">
      set_digital_outputs_config
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#thorlabs_cube.driver.kcube.kdc.Kdc.set_mmi_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      set_mmi_parameters
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#thorlabs_cube.driver.kcube.kdc.Kdc.set_position_trigger_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      set_position_trigger_parameters
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#thorlabs_cube.driver.kcube.kdc.Kdc.set_trigger_io_config" class="md-nav__link">
    <span class="md-ellipsis">
      set_trigger_io_config
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

    </ul>

</nav>

    </li>










    <li class="md-nav__item">
      <a href="../kpa101/" class="md-nav__link">


  <span class="md-ellipsis">
    KPA101
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../kpz101/" class="md-nav__link">


  <span class="md-ellipsis">
    KPZ101
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../ksc101/" class="md-nav__link">


  <span class="md-ellipsis">
    KSC101
  </span>


      </a>
    </li>




          </ul>
        </nav>

    </li>



























    <li class="md-nav__item md-nav__item--nested">





        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >


          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">


  <span class="md-ellipsis">
    T-Cube
  </span>


            <span class="md-nav__icon md-icon"></span>
          </label>

        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            T-Cube
          </label>
          <ul class="md-nav__list" data-md-scrollfix>







    <li class="md-nav__item">
      <a href="../../tcube/tdc001/" class="md-nav__link">


  <span class="md-ellipsis">
    TDC001
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../../tcube/tpa101/" class="md-nav__link">


  <span class="md-ellipsis">
    TPA101
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../../tcube/tpz001/" class="md-nav__link">


  <span class="md-ellipsis">
    TPZ001
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../../tcube/tsc001/" class="md-nav__link">


  <span class="md-ellipsis">
    TSC001
  </span>


      </a>
    </li>




          </ul>
        </nav>

    </li>




          </ul>
        </nav>

    </li>
























    <li class="md-nav__item md-nav__item--nested">





        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >


          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">


  <span class="md-ellipsis">
    Tutorials
  </span>


            <span class="md-nav__icon md-icon"></span>
          </label>

        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>







    <li class="md-nav__item">
      <a href="../../../tutorial/tutorials/" class="md-nav__link">


  <span class="md-ellipsis">
    Tutorials
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../../../tutorial/examples/sipyco/" class="md-nav__link">


  <span class="md-ellipsis">
    SiPyCo RPC Control
  </span>


      </a>
    </li>










    <li class="md-nav__item">
      <a href="../../../tutorial/examples/artiq/" class="md-nav__link">


  <span class="md-ellipsis">
    ARTIQ Control
  </span>


      </a>
    </li>




          </ul>
        </nav>

    </li>



  </ul>
</nav>
                  </div>
                </div>
              </div>




            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">




<h1 id="kdc101"><strong>KDC101</strong></h1>
<p><img alt="An image of a KDC101 K-Cube DC Motor Controller" src="../images/kdc101.jpg" /></p>
<h2 id="controller-description">Controller Description</h2>
<p>The <strong>KDC101</strong> is a compact <strong>single-channel</strong> K-Cube controller from Thorlabs designed for <strong>precise control of DC motors</strong>. It is optimized for positioning applications requiring accurate and smooth motion control. The KDC101 supports bidirectional DC motor control with adjustable speed, acceleration, and position settings. It features USB connectivity for computer control via Thorlabs’ Kinesis Software or <a href="https://github.com/quantumion/thorlabs_cube">QuantumION's Thorlabs Cube Repository</a>.</p>
<h2 id="controller-use-cases">Controller Use-Cases</h2>
<ul>
<li><strong>KDC101</strong> is used in applications requiring fine motorized adjustments, such as:<ol>
<li><strong>Optical Alignment</strong>: Precise positioning of lenses, mirrors, and other optical components.</li>
<li><strong>Microscopy</strong>: Fine control of motorized stages for specimen alignment or focusing.</li>
<li><strong>Laser Systems</strong>: Stabilizing or adjusting optical components in beam paths.</li>
</ol>
</li>
</ul>
<h2 id="peripherals-examples">Peripherals Examples</h2>
<ul>
<li><strong>DC Motor Actuators</strong>
<img alt="An image of a Thorlabs Z825B DC Motorized Actuator" src="../images/servoActuator.jpg" /></li>
<li><strong>Motorized Mirror Mounts</strong>
<img alt="An image of a Thorlabs K10CR1/M Motorized Rotation Mount" src="../images/motorizedMirrorMount.jpg" /></li>
<li><strong>Motorized Stages</strong>
<img alt="An image of a Thorlabs LTS150 Motorized Stage" src="../images/motorizedStages.jpg" /></li>
</ul>
<h2 id="api-reference"><strong>API Reference</strong></h2>


<div class="doc doc-object doc-class">



<a id="thorlabs_cube.driver.kcube.kdc.Kdc"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="thorlabs_cube.driver.tcube.tdc.Tdc" href="../../tcube/tdc001/#thorlabs_cube.driver.tcube.tdc.Tdc">Tdc</a></code></p>


        <p>KDC101 K-Cube Brushed DC Servo Motor Controller class</p>






              <details class="quote">
                <summary>Source code in <code>venv/lib/python3.9/site-packages/thorlabs_cube/driver/kcube/kdc.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Kdc</span><span class="p">(</span><span class="n">Tdc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KDC101 K-Cube Brushed DC Servo Motor Controller class</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">handle_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="n">Message</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse messages from the device.</span>
<span class="sd">        Minor adaptation from TDC001 method.&quot;&quot;&quot;</span>
        <span class="n">msg_id</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">id</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">data</span>

        <span class="k">if</span> <span class="n">msg_id</span> <span class="o">==</span> <span class="n">MGMSG</span><span class="o">.</span><span class="n">HW_DISCONNECT</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MsgError</span><span class="p">(</span><span class="s2">&quot;Error: Please disconnect the KDC101&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">msg_id</span> <span class="o">==</span> <span class="n">MGMSG</span><span class="o">.</span><span class="n">HW_RESPONSE</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MsgError</span><span class="p">(</span><span class="s2">&quot;Hardware error, please disconnect and reconnect the KDC101&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">msg_id</span> <span class="o">==</span> <span class="n">MGMSG</span><span class="o">.</span><span class="n">HW_RICHRESPONSE</span><span class="p">:</span>
            <span class="p">(</span><span class="n">code</span><span class="p">,)</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;&lt;H&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span>
            <span class="k">raise</span> <span class="n">MsgError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Hardware error </span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;ascii&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">msg_id</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_MOVE_COMPLETED</span><span class="p">,</span>
            <span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_MOVE_STOPPED</span><span class="p">,</span>
            <span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_GET_DCSTATUSUPDATE</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status_report_counter</span> <span class="o">==</span> <span class="mi">25</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">status_report_counter</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">Message</span><span class="p">(</span><span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_ACK_DCSTATUSUPDATE</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">status_report_counter</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="c1"># &#39;r&#39; is a currently unused and reserved field</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;&lt;LHHL&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_digital_outputs_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set digital output pins on the motor control output port.</span>

<span class="sd">        Not required for the KDC101. Unimplemented.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_digital_outputs_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get digital output pin values on the motor control output port.</span>

<span class="sd">        Not required for the KDC101. Unimplemented.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_mmi_parameters</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">mode</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">max_velocity</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">max_acceleration</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">direction</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">position1</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">position2</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">brightness</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">dim</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the operating parameters of the top panel wheel (Joystick).</span>

<span class="sd">        :param mode: This parameter specifies the operating mode of the</span>
<span class="sd">                     wheel/joy stick as follows:\n</span>
<span class="sd">                     * 1: Velocity Control Mode - Deflecting the wheel starts</span>
<span class="sd">                          a move with the velocity proportional to</span>
<span class="sd">                          the deflection. The maximum velocity (i.e. velocity</span>
<span class="sd">                          corresponding to the full deflection of the</span>
<span class="sd">                          joystick wheel) and acceleration are specified in the</span>
<span class="sd">                          max_velocity and max_acceleration parameters.</span>
<span class="sd">                     * 2: Jog Mode - Deflecting the wheel initiates a jog move,</span>
<span class="sd">                          using the parameters specified by the set_jog</span>
<span class="sd">                          step_size and max_velocity methods. Keeping the wheel</span>
<span class="sd">                          deflected repeats the move automatically after the</span>
<span class="sd">                          current move has completed.</span>
<span class="sd">                     * 3: Go To Position Mode - Deflecting the wheel starts a</span>
<span class="sd">                          move from the current position to one of the two</span>
<span class="sd">                          predefined “teach” positions. The teach positions are</span>
<span class="sd">                          specified in number of steps from the home position</span>
<span class="sd">                          in the position1 and position parameters.</span>
<span class="sd">        :param max_velocity: The maximum velocity of a move initiated by the</span>
<span class="sd">                             top panel velocity wheel.</span>
<span class="sd">        :param max_acceleration: The maximum acceleration of a move initiated</span>
<span class="sd">                                 by the top panel velocity wheel.</span>
<span class="sd">        :param direction: This parameter specifies the direction of a move</span>
<span class="sd">                          initiated by the velocity wheel as follows:\n</span>
<span class="sd">                          * 0: Wheel initiated moves are disabled. Wheel used</span>
<span class="sd">                               for menuing only.</span>
<span class="sd">                          * 1: Upwards rotation of the wheel results in a</span>
<span class="sd">                               positive motion (i.e. increased position count).</span>
<span class="sd">                               The following option applies only when the mode</span>
<span class="sd">                               is set to Velocity Control Mode (1). If set to</span>
<span class="sd">                               Jog Mode (2) or Go to Position Mode (3),</span>
<span class="sd">                               the following option is ignored.\n</span>
<span class="sd">                          * 2: Upwards rotation of the wheel results in a</span>
<span class="sd">                               negative motion (i.e. decreased position count).</span>
<span class="sd">        :param position1: The preset position 1 when operating in go to</span>
<span class="sd">                          position mode, measured in position steps from</span>
<span class="sd">                          the home position.</span>
<span class="sd">        :param position2: The preset position 2 when operating in go to</span>
<span class="sd">                          position mode, measured in position steps from</span>
<span class="sd">                          the home position.</span>
<span class="sd">        :param brightness: In certain applications, it may be necessary to</span>
<span class="sd">                           adjust the brightness of the LED display on</span>
<span class="sd">                           the top of the unit. The brightness is set as a</span>
<span class="sd">                           value from 0 (Off) to 100 (brightest). The</span>
<span class="sd">                           display can be turned off completely by entering a</span>
<span class="sd">                           setting of zero, however, pressing the</span>
<span class="sd">                           MENU button on the top panel will temporarily</span>
<span class="sd">                           illuminate the display at its lowest brightness</span>
<span class="sd">                           setting to allow adjustments. When the display</span>
<span class="sd">                           returns to its default position display mode,</span>
<span class="sd">                           it will turn off again.</span>
<span class="sd">        :param timeout: &#39;Burn In&#39; of the display can occur if it remains</span>
<span class="sd">                        static for a long time. To prevent this, the</span>
<span class="sd">                        display is automatically dimmed after the time</span>
<span class="sd">                        interval specified in the timeout parameter has</span>
<span class="sd">                        elapsed. Set in minutes in the range 0 (never dimmed)</span>
<span class="sd">                        to 480. The dim level is set in the</span>
<span class="sd">                        dim parameter below.</span>
<span class="sd">        :param dim: The dim level, as a value from 0 (Off) to 10 (brightest)</span>
<span class="sd">                    but is also limited by the brightness parameter.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">payload</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span>
            <span class="s2">&quot;&lt;HHllHllHHHlHH&quot;</span><span class="p">,</span>
            <span class="n">Kdc</span><span class="o">.</span><span class="n">_CHANNEL</span><span class="p">,</span>
            <span class="n">mode</span><span class="p">,</span>
            <span class="n">max_velocity</span><span class="p">,</span>
            <span class="n">max_acceleration</span><span class="p">,</span>
            <span class="n">direction</span><span class="p">,</span>
            <span class="n">position1</span><span class="p">,</span>
            <span class="n">position2</span><span class="p">,</span>
            <span class="n">brightness</span><span class="p">,</span>
            <span class="n">timeout</span><span class="p">,</span>
            <span class="n">dim</span><span class="p">,</span>
            <span class="n">Kdc</span><span class="o">.</span><span class="n">_RESERVED</span><span class="p">,</span>
            <span class="n">Kdc</span><span class="o">.</span><span class="n">_RESERVED</span><span class="p">,</span>
            <span class="n">Kdc</span><span class="o">.</span><span class="n">_RESERVED</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">Message</span><span class="p">(</span><span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_SET_KCUBEMMIPARAMS</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">))</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_mmi_parameters</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the operating parameters of the top panel wheel (Joystick).</span>

<span class="sd">        :return: A 9 int tuple containing in this order: joystick mode,</span>
<span class="sd">                 maximum velocity, maximum acceleration, direction, position1,</span>
<span class="sd">                 position2, brightness, timeout, and dim. Cf.</span>
<span class="sd">                 :py:meth:`set_mmi_parameters() &lt;Kdc.set_mmi_parameters&gt;`</span>
<span class="sd">                 for description.</span>
<span class="sd">        :rtype: A 9 int tuple</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">get_msg</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_request</span><span class="p">(</span>
            <span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_REQ_KCUBEMMIPARAMS</span><span class="p">,</span>
            <span class="p">[</span><span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_GET_KCUBEMMIPARAMS</span><span class="p">],</span>
            <span class="n">Kdc</span><span class="o">.</span><span class="n">_REQUEST_LENGTH</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">st</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;&lt;HllHllHHH&quot;</span><span class="p">,</span> <span class="n">get_msg</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">28</span><span class="p">])</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_trigger_io_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">mode1</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">polarity1</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">mode2</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">polarity2</span><span class="p">:</span> <span class="nb">int</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set trigger intput/output parameters.</span>

<span class="sd">        The K-Cube motor controllers have two bidirectional trigger ports</span>
<span class="sd">        (TRIG1 and TRIG2) that can be used to read an external logic signal or</span>
<span class="sd">        output a logic level to control external equipment. Either of them can</span>
<span class="sd">        be independently configured as an input or an output and the active</span>
<span class="sd">        logic state can be selected High or Low to suit the requirements of the</span>
<span class="sd">        application. Electrically the ports output 5 Volt logic signals and are</span>
<span class="sd">        designed to be driven from a 5 Volt logic. When the port is used in the</span>
<span class="sd">        input mode, the logic levels are TTL compatible, i.e. a voltage level</span>
<span class="sd">        less than 0.8 Volt will be recognised as a logic LOW and a level</span>
<span class="sd">        greater than 2.4 Volt as a logic HIGH. The input contains a weak</span>
<span class="sd">        pull-up, so the state of the input with nothing connected will default</span>
<span class="sd">        to a logic HIGH. The weak pull-up feature allows a passive device, such</span>
<span class="sd">        as a mechanical switch to be connected directly to the input. When the</span>
<span class="sd">        port is used as an output it provides a push-pull drive of 5 Volts,</span>
<span class="sd">        with the maximum current limited to approximately 8 mA. The current</span>
<span class="sd">        limit prevents damage when the output is accidentally shorted to ground</span>
<span class="sd">        or driven to the opposite logic state by external circuity.</span>

<span class="sd">        **Warning**: do not drive the TRIG ports from any voltage source that</span>
<span class="sd">        can produce an output in excess of the normal 0 to 5 Volt logic level</span>
<span class="sd">        range. In any case the voltage at the TRIG ports must be limited to</span>
<span class="sd">        -0.25 to +5.25 Volts.</span>

<span class="sd">        **Input Trigger Modes**\n</span>
<span class="sd">        When configured as an input, the TRIG ports can be used as a general</span>
<span class="sd">        purpose digital input, or for triggering a relative, absolute or home</span>
<span class="sd">        move as follows:</span>

<span class="sd">        * 0x00: The trigger IO is disabled</span>
<span class="sd">        * 0x01: General purpose logic input (read through status bits using the</span>
<span class="sd">          :py:meth:`get_status_bits()</span>
<span class="sd">          &lt;thorlabs_cube.driver.tcube.tdc.Tdc.get_status_bits&gt;` method)</span>
<span class="sd">        * 0x02: Input trigger for relative move</span>
<span class="sd">        * 0x03: Input trigger for absolute move</span>
<span class="sd">        * 0x04: Input trigger for home move</span>

<span class="sd">        When used for triggering a move, the port is edge sensitive. In other</span>
<span class="sd">        words, it has to see a transition from the inactive to the active logic</span>
<span class="sd">        state (Low-&gt;High or High-&gt;Low) for the trigger input to be recognized.</span>
<span class="sd">        For the same reason a sustained logic level will not trigger repeated</span>
<span class="sd">        moves. The trigger input has to return to its inactive state first in</span>
<span class="sd">        order to start the next trigger.</span>

<span class="sd">        **Output Trigger Modes**\n</span>
<span class="sd">        When configured as an output, the TRIG ports can be used as a general</span>
<span class="sd">        purpose digital output, or to indicate motion status or to produce a</span>
<span class="sd">        trigger pulse at configurable positions as follows:</span>

<span class="sd">        * 0x0A: General purpose logic output (set using the</span>
<span class="sd">                :py:meth:`set_digital_outputs_config()</span>
<span class="sd">                &lt;Kdc.set_digital_outputs_config&gt;` method).</span>
<span class="sd">        * 0x0B: Trigger output active (level) when motor &#39;in motion&#39;. The</span>
<span class="sd">                output trigger goes high (5V) or low (0V) (as set in the</span>
<span class="sd">                polarity1 and polarity2 parameters) when the stage is</span>
<span class="sd">                in motion.</span>
<span class="sd">        * 0x0C: Trigger output active (level) when motor at &#39;maximum velocity&#39;.</span>
<span class="sd">        * 0x0D: Trigger output active (pulsed) at pre-defined positions moving</span>
<span class="sd">                forward (set using start_position_fwd,</span>
<span class="sd">                interval_fwd, num_pulses_fwd and pulse_width parameters in the</span>
<span class="sd">                :py:meth:`set_position_trigger_parameters()</span>
<span class="sd">                &lt;Kdc.set_position_trigger_parameters&gt;` message). Only one</span>
<span class="sd">                Trigger port at a time can be set to this mode.</span>
<span class="sd">        * 0x0E: Trigger output active (pulsed) at pre-defined positions moving</span>
<span class="sd">                backwards (set using start_position_rev, interval_rev,</span>
<span class="sd">                num_pulses_rev and pulse_width parameters in the</span>
<span class="sd">                :py:meth:`set_position_trigger_parameters()</span>
<span class="sd">                &lt;Kdc.set_position_trigger_parameters&gt;` message). Only one</span>
<span class="sd">                Trigger port at a time can be set to this mode.</span>
<span class="sd">        * 0x0F: Trigger output active (pulsed) at pre-defined positions moving</span>
<span class="sd">                forwards and backward. Only one Trigger port at a time can be</span>
<span class="sd">                set to this mode.</span>

<span class="sd">        :param mode1: TRIG1 operating mode</span>
<span class="sd">        :param polarity1: The active state of TRIG1 (i.e. logic high or</span>
<span class="sd">                          logic low)</span>
<span class="sd">        :param mode2: TRIG2 operating mode</span>
<span class="sd">        :param polarity2: The active state of TRIG2 (i.e. logic high or</span>
<span class="sd">                          logic low)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">payload</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span>
            <span class="s2">&quot;&lt;HHHHHQH&quot;</span><span class="p">,</span>
            <span class="n">Kdc</span><span class="o">.</span><span class="n">_CHANNEL</span><span class="p">,</span>
            <span class="n">mode1</span><span class="p">,</span>
            <span class="n">polarity1</span><span class="p">,</span>
            <span class="n">mode2</span><span class="p">,</span>
            <span class="n">polarity2</span><span class="p">,</span>
            <span class="n">Kdc</span><span class="o">.</span><span class="n">_RESERVED</span><span class="p">,</span>
            <span class="n">Kdc</span><span class="o">.</span><span class="n">_RESERVED</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">Message</span><span class="p">(</span><span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_SET_KCUBETRIGIOCONFIG</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">))</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_trigger_io_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get trigger input/output parameters.</span>

<span class="sd">        :return: A 4 int tuple containing in this order: mode1, polarity1,</span>
<span class="sd">                 mode2, polarity2. Cf.</span>
<span class="sd">                 :py:meth:`get_trigger_io_config()&lt;Kdc.get_trigger_io_config&gt;`</span>
<span class="sd">                 for description.</span>
<span class="sd">        :rtype: A 4 int tuple</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">get_msg</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_request</span><span class="p">(</span>
            <span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_REQ_KCUBETRIGIOCONFIG</span><span class="p">,</span>
            <span class="p">[</span><span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_GET_KCUBETRIGIOCONFIG</span><span class="p">],</span>
            <span class="n">Kdc</span><span class="o">.</span><span class="n">_REQUEST_LENGTH</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">st</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;&lt;HHHH&quot;</span><span class="p">,</span> <span class="n">get_msg</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_position_trigger_parameters</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">start_position_fwd</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">interval_fwd</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">num_pulses_fwd</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">start_position_rev</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">interval_rev</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">num_pulses_rev</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">pulse_width</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">num_cycles</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set positioning trigger parameters.</span>

<span class="sd">        The K-Cube motor controllers have two bidirectional trigger ports</span>
<span class="sd">        (TRIG1 and TRIG2) that can be set to be used as input or output</span>
<span class="sd">        triggers. This method sets operating parameters used when the</span>
<span class="sd">        triggering mode is set to a trigger out position steps mode by calling</span>
<span class="sd">        the ;py:meth:`set_trigger_io_config()&lt;Kdc.set_trigger_io_config&gt;`</span>
<span class="sd">        method. As soon as position triggering is selected on either of the</span>
<span class="sd">        TRIG ports, the port will assert the inactive logic state. As the stage</span>
<span class="sd">        moves in its travel range and the actual position matches the position</span>
<span class="sd">        set in the start_position_fwd parameter, the TRIG port will output its</span>
<span class="sd">        active logic state. The active state will be output for the length of</span>
<span class="sd">        time specified by the pulse_width parameter, then return to its</span>
<span class="sd">        inactive state and schedule the next position trigger point at the</span>
<span class="sd">        start_position_fwd value plus the value set in the interval_fwd</span>
<span class="sd">        parameter. Thus when this second position is reached, the TRIG output</span>
<span class="sd">        will be asserted to its active state again. The sequence is repeated</span>
<span class="sd">        the number of times set in the num_pulses_fwd parameter. When the</span>
<span class="sd">        number of pulses set in the num_pulses_fwd parameter has been</span>
<span class="sd">        generated, the trigger engine will schedule the next position to occur</span>
<span class="sd">        at the position specified in the start_position_rev parameter. The same</span>
<span class="sd">        sequence as the forward direction is now repeated in reverse, except</span>
<span class="sd">        that the interval_rev and num_pulses_rev parameters apply. When the</span>
<span class="sd">        number of pulses has been output, the entire forward-reverse sequence</span>
<span class="sd">        will repeat the number of times specified by num_cycles parameter. This</span>
<span class="sd">        means that the total number of pulses output will be num_cycles x</span>
<span class="sd">        (num_pulses_fwd + num_pulses_rev).</span>

<span class="sd">        Once the total number of output pulses have been generated, the trigger</span>
<span class="sd">        output will remain inactive.</span>

<span class="sd">        When a unidirectional sequence is selected, only the forward or reverse</span>
<span class="sd">        part of the sequence will be activated.</span>

<span class="sd">        :param start_position_fwd: When moving forward, this is the stage</span>
<span class="sd">                                   position [in position counts - encoder</span>
<span class="sd">                                   counts or microsteps] to start the</span>
<span class="sd">                                   triggering sequence.</span>
<span class="sd">        :param interval_fwd: When moving forward, this is the interval</span>
<span class="sd">                             [in position counts - encoder counts or</span>
<span class="sd">                             microsteps] at which to output the trigger pulses.</span>
<span class="sd">        :param num_pulses_fwd: Number of output pulses during a forward move.</span>
<span class="sd">        :param start_position_rev: When moving backwards, this is the stage</span>
<span class="sd">                                   position [in position counts - encoder</span>
<span class="sd">                                   counts or microsteps] to start the</span>
<span class="sd">                                   triggering sequence.</span>
<span class="sd">        :param interval_rev: When moving backwards, this is the interval [in</span>
<span class="sd">                             position counts - encoder counts or microsteps] at</span>
<span class="sd">                             which to output the trigger pulses.</span>
<span class="sd">        :param num_pulses_rev: Number of output pulses during a backwards move.</span>
<span class="sd">        :param pulse_width: Trigger output pulse width</span>
<span class="sd">                            (from 1 µs to 1000000 µs).</span>
<span class="sd">        :param num_cycles: Number of forward/reverse move cycles.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">payload</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span>
            <span class="s2">&quot;&lt;Hllllllll&quot;</span><span class="p">,</span>
            <span class="n">Kdc</span><span class="o">.</span><span class="n">_CHANNEL</span><span class="p">,</span>
            <span class="n">start_position_fwd</span><span class="p">,</span>
            <span class="n">interval_fwd</span><span class="p">,</span>
            <span class="n">num_pulses_fwd</span><span class="p">,</span>
            <span class="n">start_position_rev</span><span class="p">,</span>
            <span class="n">interval_rev</span><span class="p">,</span>
            <span class="n">num_pulses_rev</span><span class="p">,</span>
            <span class="n">pulse_width</span><span class="p">,</span>
            <span class="n">num_cycles</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span>
            <span class="n">Message</span><span class="p">(</span>
                <span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_SET_KCUBEPOSTRIGPARAMS</span><span class="p">,</span>
                <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_position_trigger_parameters</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the positioning trigger parameters.</span>

<span class="sd">        :return: An 8 int tuple containing in this order: start_position_fwd,</span>
<span class="sd">                 interval_fwd, num_pulses_fwd, start_position_rev,</span>
<span class="sd">                 interval_rev, num_pulses_rev, pulse_width, num_cycles. Cf.</span>
<span class="sd">                 :py:meth:`set_position_trigger_parameters()</span>
<span class="sd">                 &lt;Kdc.set_position_trigger_parameters&gt;` for description.</span>
<span class="sd">        :rtype: An 8 int tuple</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">get_msg</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_request</span><span class="p">(</span>
            <span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_REQ_KCUBEPOSTRIGPARAMS</span><span class="p">,</span>
            <span class="p">[</span><span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_GET_KCUBEPOSTRIGPARAMS</span><span class="p">],</span>
            <span class="n">Kdc</span><span class="o">.</span><span class="n">_REQUEST_LENGTH</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">st</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;&lt;llllllll&quot;</span><span class="p">,</span> <span class="n">get_msg</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">34</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="thorlabs_cube.driver.kcube.kdc.Kdc.get_digital_outputs_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_digital_outputs_config</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get digital output pin values on the motor control output port.</p>
<p>Not required for the KDC101. Unimplemented.</p>

            <details class="quote">
              <summary>Source code in <code>venv/lib/python3.9/site-packages/thorlabs_cube/driver/kcube/kdc.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">get_digital_outputs_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get digital output pin values on the motor control output port.</span>

<span class="sd">    Not required for the KDC101. Unimplemented.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="thorlabs_cube.driver.kcube.kdc.Kdc.get_mmi_parameters" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_mmi_parameters</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the operating parameters of the top panel wheel (Joystick).</p>
<p>:return: A 9 int tuple containing in this order: joystick mode,
         maximum velocity, maximum acceleration, direction, position1,
         position2, brightness, timeout, and dim. Cf.
         :py:meth:<code>set_mmi_parameters() &lt;Kdc.set_mmi_parameters&gt;</code>
         for description.
:rtype: A 9 int tuple</p>

            <details class="quote">
              <summary>Source code in <code>venv/lib/python3.9/site-packages/thorlabs_cube/driver/kcube/kdc.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">get_mmi_parameters</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the operating parameters of the top panel wheel (Joystick).</span>

<span class="sd">    :return: A 9 int tuple containing in this order: joystick mode,</span>
<span class="sd">             maximum velocity, maximum acceleration, direction, position1,</span>
<span class="sd">             position2, brightness, timeout, and dim. Cf.</span>
<span class="sd">             :py:meth:`set_mmi_parameters() &lt;Kdc.set_mmi_parameters&gt;`</span>
<span class="sd">             for description.</span>
<span class="sd">    :rtype: A 9 int tuple</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">get_msg</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_request</span><span class="p">(</span>
        <span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_REQ_KCUBEMMIPARAMS</span><span class="p">,</span>
        <span class="p">[</span><span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_GET_KCUBEMMIPARAMS</span><span class="p">],</span>
        <span class="n">Kdc</span><span class="o">.</span><span class="n">_REQUEST_LENGTH</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">st</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;&lt;HllHllHHH&quot;</span><span class="p">,</span> <span class="n">get_msg</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">28</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="thorlabs_cube.driver.kcube.kdc.Kdc.get_position_trigger_parameters" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_position_trigger_parameters</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the positioning trigger parameters.</p>
<p>:return: An 8 int tuple containing in this order: start_position_fwd,
         interval_fwd, num_pulses_fwd, start_position_rev,
         interval_rev, num_pulses_rev, pulse_width, num_cycles. Cf.
         :py:meth:<code>set_position_trigger_parameters()
         &lt;Kdc.set_position_trigger_parameters&gt;</code> for description.
:rtype: An 8 int tuple</p>

            <details class="quote">
              <summary>Source code in <code>venv/lib/python3.9/site-packages/thorlabs_cube/driver/kcube/kdc.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">get_position_trigger_parameters</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the positioning trigger parameters.</span>

<span class="sd">    :return: An 8 int tuple containing in this order: start_position_fwd,</span>
<span class="sd">             interval_fwd, num_pulses_fwd, start_position_rev,</span>
<span class="sd">             interval_rev, num_pulses_rev, pulse_width, num_cycles. Cf.</span>
<span class="sd">             :py:meth:`set_position_trigger_parameters()</span>
<span class="sd">             &lt;Kdc.set_position_trigger_parameters&gt;` for description.</span>
<span class="sd">    :rtype: An 8 int tuple</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">get_msg</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_request</span><span class="p">(</span>
        <span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_REQ_KCUBEPOSTRIGPARAMS</span><span class="p">,</span>
        <span class="p">[</span><span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_GET_KCUBEPOSTRIGPARAMS</span><span class="p">],</span>
        <span class="n">Kdc</span><span class="o">.</span><span class="n">_REQUEST_LENGTH</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">st</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;&lt;llllllll&quot;</span><span class="p">,</span> <span class="n">get_msg</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">34</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="thorlabs_cube.driver.kcube.kdc.Kdc.get_trigger_io_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_trigger_io_config</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get trigger input/output parameters.</p>
<p>:return: A 4 int tuple containing in this order: mode1, polarity1,
         mode2, polarity2. Cf.
         :py:meth:<code>get_trigger_io_config()&lt;Kdc.get_trigger_io_config&gt;</code>
         for description.
:rtype: A 4 int tuple</p>

            <details class="quote">
              <summary>Source code in <code>venv/lib/python3.9/site-packages/thorlabs_cube/driver/kcube/kdc.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">get_trigger_io_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get trigger input/output parameters.</span>

<span class="sd">    :return: A 4 int tuple containing in this order: mode1, polarity1,</span>
<span class="sd">             mode2, polarity2. Cf.</span>
<span class="sd">             :py:meth:`get_trigger_io_config()&lt;Kdc.get_trigger_io_config&gt;`</span>
<span class="sd">             for description.</span>
<span class="sd">    :rtype: A 4 int tuple</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">get_msg</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_request</span><span class="p">(</span>
        <span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_REQ_KCUBETRIGIOCONFIG</span><span class="p">,</span>
        <span class="p">[</span><span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_GET_KCUBETRIGIOCONFIG</span><span class="p">],</span>
        <span class="n">Kdc</span><span class="o">.</span><span class="n">_REQUEST_LENGTH</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">st</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;&lt;HHHH&quot;</span><span class="p">,</span> <span class="n">get_msg</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="thorlabs_cube.driver.kcube.kdc.Kdc.handle_message" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">handle_message</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Parse messages from the device.
Minor adaptation from TDC001 method.</p>

            <details class="quote">
              <summary>Source code in <code>venv/lib/python3.9/site-packages/thorlabs_cube/driver/kcube/kdc.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">handle_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="n">Message</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse messages from the device.</span>
<span class="sd">    Minor adaptation from TDC001 method.&quot;&quot;&quot;</span>
    <span class="n">msg_id</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">id</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">data</span>

    <span class="k">if</span> <span class="n">msg_id</span> <span class="o">==</span> <span class="n">MGMSG</span><span class="o">.</span><span class="n">HW_DISCONNECT</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MsgError</span><span class="p">(</span><span class="s2">&quot;Error: Please disconnect the KDC101&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">msg_id</span> <span class="o">==</span> <span class="n">MGMSG</span><span class="o">.</span><span class="n">HW_RESPONSE</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MsgError</span><span class="p">(</span><span class="s2">&quot;Hardware error, please disconnect and reconnect the KDC101&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">msg_id</span> <span class="o">==</span> <span class="n">MGMSG</span><span class="o">.</span><span class="n">HW_RICHRESPONSE</span><span class="p">:</span>
        <span class="p">(</span><span class="n">code</span><span class="p">,)</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;&lt;H&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span>
        <span class="k">raise</span> <span class="n">MsgError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Hardware error </span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;ascii&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">msg_id</span> <span class="ow">in</span> <span class="p">[</span>
        <span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_MOVE_COMPLETED</span><span class="p">,</span>
        <span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_MOVE_STOPPED</span><span class="p">,</span>
        <span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_GET_DCSTATUSUPDATE</span><span class="p">,</span>
    <span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status_report_counter</span> <span class="o">==</span> <span class="mi">25</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status_report_counter</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">Message</span><span class="p">(</span><span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_ACK_DCSTATUSUPDATE</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status_report_counter</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="c1"># &#39;r&#39; is a currently unused and reserved field</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s2">&quot;&lt;LHHL&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="thorlabs_cube.driver.kcube.kdc.Kdc.set_digital_outputs_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_digital_outputs_config</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Set digital output pins on the motor control output port.</p>
<p>Not required for the KDC101. Unimplemented.</p>

            <details class="quote">
              <summary>Source code in <code>venv/lib/python3.9/site-packages/thorlabs_cube/driver/kcube/kdc.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">set_digital_outputs_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set digital output pins on the motor control output port.</span>

<span class="sd">    Not required for the KDC101. Unimplemented.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="thorlabs_cube.driver.kcube.kdc.Kdc.set_mmi_parameters" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_mmi_parameters</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span> <span class="n">max_velocity</span><span class="p">,</span> <span class="n">max_acceleration</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="n">position1</span><span class="p">,</span> <span class="n">position2</span><span class="p">,</span> <span class="n">brightness</span><span class="p">,</span> <span class="n">timeout</span><span class="p">,</span> <span class="n">dim</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Set the operating parameters of the top panel wheel (Joystick).</p>
<p>:param mode: This parameter specifies the operating mode of the
             wheel/joy stick as follows:</p>
<pre><code>         * 1: Velocity Control Mode - Deflecting the wheel starts
              a move with the velocity proportional to
              the deflection. The maximum velocity (i.e. velocity
              corresponding to the full deflection of the
              joystick wheel) and acceleration are specified in the
              max_velocity and max_acceleration parameters.
         * 2: Jog Mode - Deflecting the wheel initiates a jog move,
              using the parameters specified by the set_jog
              step_size and max_velocity methods. Keeping the wheel
              deflected repeats the move automatically after the
              current move has completed.
         * 3: Go To Position Mode - Deflecting the wheel starts a
              move from the current position to one of the two
              predefined “teach” positions. The teach positions are
              specified in number of steps from the home position
              in the position1 and position parameters.
</code></pre>
<p>:param max_velocity: The maximum velocity of a move initiated by the
                     top panel velocity wheel.
:param max_acceleration: The maximum acceleration of a move initiated
                         by the top panel velocity wheel.
:param direction: This parameter specifies the direction of a move
                  initiated by the velocity wheel as follows:</p>
<pre><code>              * 0: Wheel initiated moves are disabled. Wheel used
                   for menuing only.
              * 1: Upwards rotation of the wheel results in a
                   positive motion (i.e. increased position count).
                   The following option applies only when the mode
                   is set to Velocity Control Mode (1). If set to
                   Jog Mode (2) or Go to Position Mode (3),
                   the following option is ignored.

              * 2: Upwards rotation of the wheel results in a
                   negative motion (i.e. decreased position count).
</code></pre>
<p>:param position1: The preset position 1 when operating in go to
                  position mode, measured in position steps from
                  the home position.
:param position2: The preset position 2 when operating in go to
                  position mode, measured in position steps from
                  the home position.
:param brightness: In certain applications, it may be necessary to
                   adjust the brightness of the LED display on
                   the top of the unit. The brightness is set as a
                   value from 0 (Off) to 100 (brightest). The
                   display can be turned off completely by entering a
                   setting of zero, however, pressing the
                   MENU button on the top panel will temporarily
                   illuminate the display at its lowest brightness
                   setting to allow adjustments. When the display
                   returns to its default position display mode,
                   it will turn off again.
:param timeout: 'Burn In' of the display can occur if it remains
                static for a long time. To prevent this, the
                display is automatically dimmed after the time
                interval specified in the timeout parameter has
                elapsed. Set in minutes in the range 0 (never dimmed)
                to 480. The dim level is set in the
                dim parameter below.
:param dim: The dim level, as a value from 0 (Off) to 10 (brightest)
            but is also limited by the brightness parameter.</p>

            <details class="quote">
              <summary>Source code in <code>venv/lib/python3.9/site-packages/thorlabs_cube/driver/kcube/kdc.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">set_mmi_parameters</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">mode</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">max_velocity</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">max_acceleration</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">direction</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">position1</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">position2</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">brightness</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">dim</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set the operating parameters of the top panel wheel (Joystick).</span>

<span class="sd">    :param mode: This parameter specifies the operating mode of the</span>
<span class="sd">                 wheel/joy stick as follows:\n</span>
<span class="sd">                 * 1: Velocity Control Mode - Deflecting the wheel starts</span>
<span class="sd">                      a move with the velocity proportional to</span>
<span class="sd">                      the deflection. The maximum velocity (i.e. velocity</span>
<span class="sd">                      corresponding to the full deflection of the</span>
<span class="sd">                      joystick wheel) and acceleration are specified in the</span>
<span class="sd">                      max_velocity and max_acceleration parameters.</span>
<span class="sd">                 * 2: Jog Mode - Deflecting the wheel initiates a jog move,</span>
<span class="sd">                      using the parameters specified by the set_jog</span>
<span class="sd">                      step_size and max_velocity methods. Keeping the wheel</span>
<span class="sd">                      deflected repeats the move automatically after the</span>
<span class="sd">                      current move has completed.</span>
<span class="sd">                 * 3: Go To Position Mode - Deflecting the wheel starts a</span>
<span class="sd">                      move from the current position to one of the two</span>
<span class="sd">                      predefined “teach” positions. The teach positions are</span>
<span class="sd">                      specified in number of steps from the home position</span>
<span class="sd">                      in the position1 and position parameters.</span>
<span class="sd">    :param max_velocity: The maximum velocity of a move initiated by the</span>
<span class="sd">                         top panel velocity wheel.</span>
<span class="sd">    :param max_acceleration: The maximum acceleration of a move initiated</span>
<span class="sd">                             by the top panel velocity wheel.</span>
<span class="sd">    :param direction: This parameter specifies the direction of a move</span>
<span class="sd">                      initiated by the velocity wheel as follows:\n</span>
<span class="sd">                      * 0: Wheel initiated moves are disabled. Wheel used</span>
<span class="sd">                           for menuing only.</span>
<span class="sd">                      * 1: Upwards rotation of the wheel results in a</span>
<span class="sd">                           positive motion (i.e. increased position count).</span>
<span class="sd">                           The following option applies only when the mode</span>
<span class="sd">                           is set to Velocity Control Mode (1). If set to</span>
<span class="sd">                           Jog Mode (2) or Go to Position Mode (3),</span>
<span class="sd">                           the following option is ignored.\n</span>
<span class="sd">                      * 2: Upwards rotation of the wheel results in a</span>
<span class="sd">                           negative motion (i.e. decreased position count).</span>
<span class="sd">    :param position1: The preset position 1 when operating in go to</span>
<span class="sd">                      position mode, measured in position steps from</span>
<span class="sd">                      the home position.</span>
<span class="sd">    :param position2: The preset position 2 when operating in go to</span>
<span class="sd">                      position mode, measured in position steps from</span>
<span class="sd">                      the home position.</span>
<span class="sd">    :param brightness: In certain applications, it may be necessary to</span>
<span class="sd">                       adjust the brightness of the LED display on</span>
<span class="sd">                       the top of the unit. The brightness is set as a</span>
<span class="sd">                       value from 0 (Off) to 100 (brightest). The</span>
<span class="sd">                       display can be turned off completely by entering a</span>
<span class="sd">                       setting of zero, however, pressing the</span>
<span class="sd">                       MENU button on the top panel will temporarily</span>
<span class="sd">                       illuminate the display at its lowest brightness</span>
<span class="sd">                       setting to allow adjustments. When the display</span>
<span class="sd">                       returns to its default position display mode,</span>
<span class="sd">                       it will turn off again.</span>
<span class="sd">    :param timeout: &#39;Burn In&#39; of the display can occur if it remains</span>
<span class="sd">                    static for a long time. To prevent this, the</span>
<span class="sd">                    display is automatically dimmed after the time</span>
<span class="sd">                    interval specified in the timeout parameter has</span>
<span class="sd">                    elapsed. Set in minutes in the range 0 (never dimmed)</span>
<span class="sd">                    to 480. The dim level is set in the</span>
<span class="sd">                    dim parameter below.</span>
<span class="sd">    :param dim: The dim level, as a value from 0 (Off) to 10 (brightest)</span>
<span class="sd">                but is also limited by the brightness parameter.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">payload</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span>
        <span class="s2">&quot;&lt;HHllHllHHHlHH&quot;</span><span class="p">,</span>
        <span class="n">Kdc</span><span class="o">.</span><span class="n">_CHANNEL</span><span class="p">,</span>
        <span class="n">mode</span><span class="p">,</span>
        <span class="n">max_velocity</span><span class="p">,</span>
        <span class="n">max_acceleration</span><span class="p">,</span>
        <span class="n">direction</span><span class="p">,</span>
        <span class="n">position1</span><span class="p">,</span>
        <span class="n">position2</span><span class="p">,</span>
        <span class="n">brightness</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">,</span>
        <span class="n">dim</span><span class="p">,</span>
        <span class="n">Kdc</span><span class="o">.</span><span class="n">_RESERVED</span><span class="p">,</span>
        <span class="n">Kdc</span><span class="o">.</span><span class="n">_RESERVED</span><span class="p">,</span>
        <span class="n">Kdc</span><span class="o">.</span><span class="n">_RESERVED</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">Message</span><span class="p">(</span><span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_SET_KCUBEMMIPARAMS</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="thorlabs_cube.driver.kcube.kdc.Kdc.set_position_trigger_parameters" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_position_trigger_parameters</span><span class="p">(</span><span class="n">start_position_fwd</span><span class="p">,</span> <span class="n">interval_fwd</span><span class="p">,</span> <span class="n">num_pulses_fwd</span><span class="p">,</span> <span class="n">start_position_rev</span><span class="p">,</span> <span class="n">interval_rev</span><span class="p">,</span> <span class="n">num_pulses_rev</span><span class="p">,</span> <span class="n">pulse_width</span><span class="p">,</span> <span class="n">num_cycles</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Set positioning trigger parameters.</p>
<p>The K-Cube motor controllers have two bidirectional trigger ports
(TRIG1 and TRIG2) that can be set to be used as input or output
triggers. This method sets operating parameters used when the
triggering mode is set to a trigger out position steps mode by calling
the ;py:meth:<code>set_trigger_io_config()&lt;Kdc.set_trigger_io_config&gt;</code>
method. As soon as position triggering is selected on either of the
TRIG ports, the port will assert the inactive logic state. As the stage
moves in its travel range and the actual position matches the position
set in the start_position_fwd parameter, the TRIG port will output its
active logic state. The active state will be output for the length of
time specified by the pulse_width parameter, then return to its
inactive state and schedule the next position trigger point at the
start_position_fwd value plus the value set in the interval_fwd
parameter. Thus when this second position is reached, the TRIG output
will be asserted to its active state again. The sequence is repeated
the number of times set in the num_pulses_fwd parameter. When the
number of pulses set in the num_pulses_fwd parameter has been
generated, the trigger engine will schedule the next position to occur
at the position specified in the start_position_rev parameter. The same
sequence as the forward direction is now repeated in reverse, except
that the interval_rev and num_pulses_rev parameters apply. When the
number of pulses has been output, the entire forward-reverse sequence
will repeat the number of times specified by num_cycles parameter. This
means that the total number of pulses output will be num_cycles x
(num_pulses_fwd + num_pulses_rev).</p>
<p>Once the total number of output pulses have been generated, the trigger
output will remain inactive.</p>
<p>When a unidirectional sequence is selected, only the forward or reverse
part of the sequence will be activated.</p>
<p>:param start_position_fwd: When moving forward, this is the stage
                           position [in position counts - encoder
                           counts or microsteps] to start the
                           triggering sequence.
:param interval_fwd: When moving forward, this is the interval
                     [in position counts - encoder counts or
                     microsteps] at which to output the trigger pulses.
:param num_pulses_fwd: Number of output pulses during a forward move.
:param start_position_rev: When moving backwards, this is the stage
                           position [in position counts - encoder
                           counts or microsteps] to start the
                           triggering sequence.
:param interval_rev: When moving backwards, this is the interval [in
                     position counts - encoder counts or microsteps] at
                     which to output the trigger pulses.
:param num_pulses_rev: Number of output pulses during a backwards move.
:param pulse_width: Trigger output pulse width
                    (from 1 µs to 1000000 µs).
:param num_cycles: Number of forward/reverse move cycles.</p>

            <details class="quote">
              <summary>Source code in <code>venv/lib/python3.9/site-packages/thorlabs_cube/driver/kcube/kdc.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">set_position_trigger_parameters</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">start_position_fwd</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">interval_fwd</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">num_pulses_fwd</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">start_position_rev</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">interval_rev</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">num_pulses_rev</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">pulse_width</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">num_cycles</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set positioning trigger parameters.</span>

<span class="sd">    The K-Cube motor controllers have two bidirectional trigger ports</span>
<span class="sd">    (TRIG1 and TRIG2) that can be set to be used as input or output</span>
<span class="sd">    triggers. This method sets operating parameters used when the</span>
<span class="sd">    triggering mode is set to a trigger out position steps mode by calling</span>
<span class="sd">    the ;py:meth:`set_trigger_io_config()&lt;Kdc.set_trigger_io_config&gt;`</span>
<span class="sd">    method. As soon as position triggering is selected on either of the</span>
<span class="sd">    TRIG ports, the port will assert the inactive logic state. As the stage</span>
<span class="sd">    moves in its travel range and the actual position matches the position</span>
<span class="sd">    set in the start_position_fwd parameter, the TRIG port will output its</span>
<span class="sd">    active logic state. The active state will be output for the length of</span>
<span class="sd">    time specified by the pulse_width parameter, then return to its</span>
<span class="sd">    inactive state and schedule the next position trigger point at the</span>
<span class="sd">    start_position_fwd value plus the value set in the interval_fwd</span>
<span class="sd">    parameter. Thus when this second position is reached, the TRIG output</span>
<span class="sd">    will be asserted to its active state again. The sequence is repeated</span>
<span class="sd">    the number of times set in the num_pulses_fwd parameter. When the</span>
<span class="sd">    number of pulses set in the num_pulses_fwd parameter has been</span>
<span class="sd">    generated, the trigger engine will schedule the next position to occur</span>
<span class="sd">    at the position specified in the start_position_rev parameter. The same</span>
<span class="sd">    sequence as the forward direction is now repeated in reverse, except</span>
<span class="sd">    that the interval_rev and num_pulses_rev parameters apply. When the</span>
<span class="sd">    number of pulses has been output, the entire forward-reverse sequence</span>
<span class="sd">    will repeat the number of times specified by num_cycles parameter. This</span>
<span class="sd">    means that the total number of pulses output will be num_cycles x</span>
<span class="sd">    (num_pulses_fwd + num_pulses_rev).</span>

<span class="sd">    Once the total number of output pulses have been generated, the trigger</span>
<span class="sd">    output will remain inactive.</span>

<span class="sd">    When a unidirectional sequence is selected, only the forward or reverse</span>
<span class="sd">    part of the sequence will be activated.</span>

<span class="sd">    :param start_position_fwd: When moving forward, this is the stage</span>
<span class="sd">                               position [in position counts - encoder</span>
<span class="sd">                               counts or microsteps] to start the</span>
<span class="sd">                               triggering sequence.</span>
<span class="sd">    :param interval_fwd: When moving forward, this is the interval</span>
<span class="sd">                         [in position counts - encoder counts or</span>
<span class="sd">                         microsteps] at which to output the trigger pulses.</span>
<span class="sd">    :param num_pulses_fwd: Number of output pulses during a forward move.</span>
<span class="sd">    :param start_position_rev: When moving backwards, this is the stage</span>
<span class="sd">                               position [in position counts - encoder</span>
<span class="sd">                               counts or microsteps] to start the</span>
<span class="sd">                               triggering sequence.</span>
<span class="sd">    :param interval_rev: When moving backwards, this is the interval [in</span>
<span class="sd">                         position counts - encoder counts or microsteps] at</span>
<span class="sd">                         which to output the trigger pulses.</span>
<span class="sd">    :param num_pulses_rev: Number of output pulses during a backwards move.</span>
<span class="sd">    :param pulse_width: Trigger output pulse width</span>
<span class="sd">                        (from 1 µs to 1000000 µs).</span>
<span class="sd">    :param num_cycles: Number of forward/reverse move cycles.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">payload</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span>
        <span class="s2">&quot;&lt;Hllllllll&quot;</span><span class="p">,</span>
        <span class="n">Kdc</span><span class="o">.</span><span class="n">_CHANNEL</span><span class="p">,</span>
        <span class="n">start_position_fwd</span><span class="p">,</span>
        <span class="n">interval_fwd</span><span class="p">,</span>
        <span class="n">num_pulses_fwd</span><span class="p">,</span>
        <span class="n">start_position_rev</span><span class="p">,</span>
        <span class="n">interval_rev</span><span class="p">,</span>
        <span class="n">num_pulses_rev</span><span class="p">,</span>
        <span class="n">pulse_width</span><span class="p">,</span>
        <span class="n">num_cycles</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span>
        <span class="n">Message</span><span class="p">(</span>
            <span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_SET_KCUBEPOSTRIGPARAMS</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="thorlabs_cube.driver.kcube.kdc.Kdc.set_trigger_io_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_trigger_io_config</span><span class="p">(</span><span class="n">mode1</span><span class="p">,</span> <span class="n">polarity1</span><span class="p">,</span> <span class="n">mode2</span><span class="p">,</span> <span class="n">polarity2</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Set trigger intput/output parameters.</p>
<p>The K-Cube motor controllers have two bidirectional trigger ports
(TRIG1 and TRIG2) that can be used to read an external logic signal or
output a logic level to control external equipment. Either of them can
be independently configured as an input or an output and the active
logic state can be selected High or Low to suit the requirements of the
application. Electrically the ports output 5 Volt logic signals and are
designed to be driven from a 5 Volt logic. When the port is used in the
input mode, the logic levels are TTL compatible, i.e. a voltage level
less than 0.8 Volt will be recognised as a logic LOW and a level
greater than 2.4 Volt as a logic HIGH. The input contains a weak
pull-up, so the state of the input with nothing connected will default
to a logic HIGH. The weak pull-up feature allows a passive device, such
as a mechanical switch to be connected directly to the input. When the
port is used as an output it provides a push-pull drive of 5 Volts,
with the maximum current limited to approximately 8 mA. The current
limit prevents damage when the output is accidentally shorted to ground
or driven to the opposite logic state by external circuity.</p>
<p><strong>Warning</strong>: do not drive the TRIG ports from any voltage source that
can produce an output in excess of the normal 0 to 5 Volt logic level
range. In any case the voltage at the TRIG ports must be limited to
-0.25 to +5.25 Volts.</p>
<p><strong>Input Trigger Modes</strong></p>
<p>When configured as an input, the TRIG ports can be used as a general
purpose digital input, or for triggering a relative, absolute or home
move as follows:</p>
<ul>
<li>0x00: The trigger IO is disabled</li>
<li>0x01: General purpose logic input (read through status bits using the
  :py:meth:<code>get_status_bits()
  &lt;thorlabs_cube.driver.tcube.tdc.Tdc.get_status_bits&gt;</code> method)</li>
<li>0x02: Input trigger for relative move</li>
<li>0x03: Input trigger for absolute move</li>
<li>0x04: Input trigger for home move</li>
</ul>
<p>When used for triggering a move, the port is edge sensitive. In other
words, it has to see a transition from the inactive to the active logic
state (Low-&gt;High or High-&gt;Low) for the trigger input to be recognized.
For the same reason a sustained logic level will not trigger repeated
moves. The trigger input has to return to its inactive state first in
order to start the next trigger.</p>
<p><strong>Output Trigger Modes</strong></p>
<p>When configured as an output, the TRIG ports can be used as a general
purpose digital output, or to indicate motion status or to produce a
trigger pulse at configurable positions as follows:</p>
<ul>
<li>0x0A: General purpose logic output (set using the
        :py:meth:<code>set_digital_outputs_config()
        &lt;Kdc.set_digital_outputs_config&gt;</code> method).</li>
<li>0x0B: Trigger output active (level) when motor 'in motion'. The
        output trigger goes high (5V) or low (0V) (as set in the
        polarity1 and polarity2 parameters) when the stage is
        in motion.</li>
<li>0x0C: Trigger output active (level) when motor at 'maximum velocity'.</li>
<li>0x0D: Trigger output active (pulsed) at pre-defined positions moving
        forward (set using start_position_fwd,
        interval_fwd, num_pulses_fwd and pulse_width parameters in the
        :py:meth:<code>set_position_trigger_parameters()
        &lt;Kdc.set_position_trigger_parameters&gt;</code> message). Only one
        Trigger port at a time can be set to this mode.</li>
<li>0x0E: Trigger output active (pulsed) at pre-defined positions moving
        backwards (set using start_position_rev, interval_rev,
        num_pulses_rev and pulse_width parameters in the
        :py:meth:<code>set_position_trigger_parameters()
        &lt;Kdc.set_position_trigger_parameters&gt;</code> message). Only one
        Trigger port at a time can be set to this mode.</li>
<li>0x0F: Trigger output active (pulsed) at pre-defined positions moving
        forwards and backward. Only one Trigger port at a time can be
        set to this mode.</li>
</ul>
<p>:param mode1: TRIG1 operating mode
:param polarity1: The active state of TRIG1 (i.e. logic high or
                  logic low)
:param mode2: TRIG2 operating mode
:param polarity2: The active state of TRIG2 (i.e. logic high or
                  logic low)</p>

            <details class="quote">
              <summary>Source code in <code>venv/lib/python3.9/site-packages/thorlabs_cube/driver/kcube/kdc.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">set_trigger_io_config</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">mode1</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">polarity1</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">mode2</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">polarity2</span><span class="p">:</span> <span class="nb">int</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set trigger intput/output parameters.</span>

<span class="sd">    The K-Cube motor controllers have two bidirectional trigger ports</span>
<span class="sd">    (TRIG1 and TRIG2) that can be used to read an external logic signal or</span>
<span class="sd">    output a logic level to control external equipment. Either of them can</span>
<span class="sd">    be independently configured as an input or an output and the active</span>
<span class="sd">    logic state can be selected High or Low to suit the requirements of the</span>
<span class="sd">    application. Electrically the ports output 5 Volt logic signals and are</span>
<span class="sd">    designed to be driven from a 5 Volt logic. When the port is used in the</span>
<span class="sd">    input mode, the logic levels are TTL compatible, i.e. a voltage level</span>
<span class="sd">    less than 0.8 Volt will be recognised as a logic LOW and a level</span>
<span class="sd">    greater than 2.4 Volt as a logic HIGH. The input contains a weak</span>
<span class="sd">    pull-up, so the state of the input with nothing connected will default</span>
<span class="sd">    to a logic HIGH. The weak pull-up feature allows a passive device, such</span>
<span class="sd">    as a mechanical switch to be connected directly to the input. When the</span>
<span class="sd">    port is used as an output it provides a push-pull drive of 5 Volts,</span>
<span class="sd">    with the maximum current limited to approximately 8 mA. The current</span>
<span class="sd">    limit prevents damage when the output is accidentally shorted to ground</span>
<span class="sd">    or driven to the opposite logic state by external circuity.</span>

<span class="sd">    **Warning**: do not drive the TRIG ports from any voltage source that</span>
<span class="sd">    can produce an output in excess of the normal 0 to 5 Volt logic level</span>
<span class="sd">    range. In any case the voltage at the TRIG ports must be limited to</span>
<span class="sd">    -0.25 to +5.25 Volts.</span>

<span class="sd">    **Input Trigger Modes**\n</span>
<span class="sd">    When configured as an input, the TRIG ports can be used as a general</span>
<span class="sd">    purpose digital input, or for triggering a relative, absolute or home</span>
<span class="sd">    move as follows:</span>

<span class="sd">    * 0x00: The trigger IO is disabled</span>
<span class="sd">    * 0x01: General purpose logic input (read through status bits using the</span>
<span class="sd">      :py:meth:`get_status_bits()</span>
<span class="sd">      &lt;thorlabs_cube.driver.tcube.tdc.Tdc.get_status_bits&gt;` method)</span>
<span class="sd">    * 0x02: Input trigger for relative move</span>
<span class="sd">    * 0x03: Input trigger for absolute move</span>
<span class="sd">    * 0x04: Input trigger for home move</span>

<span class="sd">    When used for triggering a move, the port is edge sensitive. In other</span>
<span class="sd">    words, it has to see a transition from the inactive to the active logic</span>
<span class="sd">    state (Low-&gt;High or High-&gt;Low) for the trigger input to be recognized.</span>
<span class="sd">    For the same reason a sustained logic level will not trigger repeated</span>
<span class="sd">    moves. The trigger input has to return to its inactive state first in</span>
<span class="sd">    order to start the next trigger.</span>

<span class="sd">    **Output Trigger Modes**\n</span>
<span class="sd">    When configured as an output, the TRIG ports can be used as a general</span>
<span class="sd">    purpose digital output, or to indicate motion status or to produce a</span>
<span class="sd">    trigger pulse at configurable positions as follows:</span>

<span class="sd">    * 0x0A: General purpose logic output (set using the</span>
<span class="sd">            :py:meth:`set_digital_outputs_config()</span>
<span class="sd">            &lt;Kdc.set_digital_outputs_config&gt;` method).</span>
<span class="sd">    * 0x0B: Trigger output active (level) when motor &#39;in motion&#39;. The</span>
<span class="sd">            output trigger goes high (5V) or low (0V) (as set in the</span>
<span class="sd">            polarity1 and polarity2 parameters) when the stage is</span>
<span class="sd">            in motion.</span>
<span class="sd">    * 0x0C: Trigger output active (level) when motor at &#39;maximum velocity&#39;.</span>
<span class="sd">    * 0x0D: Trigger output active (pulsed) at pre-defined positions moving</span>
<span class="sd">            forward (set using start_position_fwd,</span>
<span class="sd">            interval_fwd, num_pulses_fwd and pulse_width parameters in the</span>
<span class="sd">            :py:meth:`set_position_trigger_parameters()</span>
<span class="sd">            &lt;Kdc.set_position_trigger_parameters&gt;` message). Only one</span>
<span class="sd">            Trigger port at a time can be set to this mode.</span>
<span class="sd">    * 0x0E: Trigger output active (pulsed) at pre-defined positions moving</span>
<span class="sd">            backwards (set using start_position_rev, interval_rev,</span>
<span class="sd">            num_pulses_rev and pulse_width parameters in the</span>
<span class="sd">            :py:meth:`set_position_trigger_parameters()</span>
<span class="sd">            &lt;Kdc.set_position_trigger_parameters&gt;` message). Only one</span>
<span class="sd">            Trigger port at a time can be set to this mode.</span>
<span class="sd">    * 0x0F: Trigger output active (pulsed) at pre-defined positions moving</span>
<span class="sd">            forwards and backward. Only one Trigger port at a time can be</span>
<span class="sd">            set to this mode.</span>

<span class="sd">    :param mode1: TRIG1 operating mode</span>
<span class="sd">    :param polarity1: The active state of TRIG1 (i.e. logic high or</span>
<span class="sd">                      logic low)</span>
<span class="sd">    :param mode2: TRIG2 operating mode</span>
<span class="sd">    :param polarity2: The active state of TRIG2 (i.e. logic high or</span>
<span class="sd">                      logic low)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">payload</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span>
        <span class="s2">&quot;&lt;HHHHHQH&quot;</span><span class="p">,</span>
        <span class="n">Kdc</span><span class="o">.</span><span class="n">_CHANNEL</span><span class="p">,</span>
        <span class="n">mode1</span><span class="p">,</span>
        <span class="n">polarity1</span><span class="p">,</span>
        <span class="n">mode2</span><span class="p">,</span>
        <span class="n">polarity2</span><span class="p">,</span>
        <span class="n">Kdc</span><span class="o">.</span><span class="n">_RESERVED</span><span class="p">,</span>
        <span class="n">Kdc</span><span class="o">.</span><span class="n">_RESERVED</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">Message</span><span class="p">(</span><span class="n">MGMSG</span><span class="o">.</span><span class="n">MOT_SET_KCUBETRIGIOCONFIG</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>













              </article>
            </div>


  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>

      </main>

        <footer class="md-footer">

  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">


    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>

</div>

    </div>
  </div>
</footer>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>


    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.indexes", "navigation.expand", "content.code.copy", "toc.integrate", "content.tabs.link"], "search": "../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>


      <script src="../../../../assets/javascripts/bundle.88dd0f4e.min.js"></script>


  </body>
</html>
